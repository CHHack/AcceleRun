{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { isObject, isString, isUndefined, isBoolean } from '@react-native-firebase/app/lib/common';\n\nvar User = function () {\n  function User(auth, user) {\n    _classCallCheck(this, User);\n\n    this._auth = auth;\n    this._user = user;\n  }\n\n  _createClass(User, [{\n    key: \"delete\",\n    value: function _delete() {\n      var _this = this;\n\n      return this._auth.native.delete().then(function () {\n        _this._auth._setUser();\n      });\n    }\n  }, {\n    key: \"getIdToken\",\n    value: function getIdToken() {\n      var forceRefresh = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      return this._auth.native.getIdToken(forceRefresh);\n    }\n  }, {\n    key: \"getIdTokenResult\",\n    value: function getIdTokenResult() {\n      var forceRefresh = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      return this._auth.native.getIdTokenResult(forceRefresh);\n    }\n  }, {\n    key: \"linkWithCredential\",\n    value: function linkWithCredential(credential) {\n      var _this2 = this;\n\n      return this._auth.native.linkWithCredential(credential.providerId, credential.token, credential.secret).then(function (userCredential) {\n        return _this2._auth._setUserCredential(userCredential);\n      });\n    }\n  }, {\n    key: \"reauthenticateWithCredential\",\n    value: function reauthenticateWithCredential(credential) {\n      var _this3 = this;\n\n      return this._auth.native.reauthenticateWithCredential(credential.providerId, credential.token, credential.secret).then(function (userCredential) {\n        return _this3._auth._setUserCredential(userCredential);\n      });\n    }\n  }, {\n    key: \"reload\",\n    value: function reload() {\n      var _this4 = this;\n\n      return this._auth.native.reload().then(function (user) {\n        _this4._auth._setUser(user);\n      });\n    }\n  }, {\n    key: \"sendEmailVerification\",\n    value: function sendEmailVerification(actionCodeSettings) {\n      var _this5 = this;\n\n      if (isObject(actionCodeSettings)) {\n        if (!isString(actionCodeSettings.url)) {\n          throw new Error(\"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.url' expected a string value.\");\n        }\n\n        if (!isUndefined(actionCodeSettings.dynamicLinkDomain) && !isString(actionCodeSettings.dynamicLinkDomain)) {\n          throw new Error(\"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.dynamicLinkDomain' expected a string value.\");\n        }\n\n        if (!isUndefined(actionCodeSettings.handleCodeInApp) && !isBoolean(actionCodeSettings.handleCodeInApp)) {\n          throw new Error(\"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.handleCodeInApp' expected a boolean value.\");\n        }\n\n        if (!isUndefined(actionCodeSettings.iOS)) {\n          if (!isObject(actionCodeSettings.iOS)) {\n            throw new Error(\"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.iOS' expected an object value.\");\n          }\n\n          if (!isString(actionCodeSettings.iOS.bundleId)) {\n            throw new Error(\"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.iOS.bundleId' expected a string value.\");\n          }\n        }\n\n        if (!isUndefined(actionCodeSettings.android)) {\n          if (!isObject(actionCodeSettings.android)) {\n            throw new Error(\"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.android' expected an object value.\");\n          }\n\n          if (!isString(actionCodeSettings.android.packageName)) {\n            throw new Error(\"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.android.packageName' expected a string value.\");\n          }\n\n          if (!isUndefined(actionCodeSettings.android.installApp) && !isBoolean(actionCodeSettings.android.installApp)) {\n            throw new Error(\"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.android.installApp' expected a boolean value.\");\n          }\n\n          if (!isUndefined(actionCodeSettings.android.minimumVersion) && !isString(actionCodeSettings.android.minimumVersion)) {\n            throw new Error(\"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.android.minimumVersion' expected a string value.\");\n          }\n        }\n      }\n\n      return this._auth.native.sendEmailVerification(actionCodeSettings).then(function (user) {\n        _this5._auth._setUser(user);\n      });\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return _extends({}, this._user);\n    }\n  }, {\n    key: \"unlink\",\n    value: function unlink(providerId) {\n      var _this6 = this;\n\n      return this._auth.native.unlink(providerId).then(function (user) {\n        return _this6._auth._setUser(user);\n      });\n    }\n  }, {\n    key: \"updateEmail\",\n    value: function updateEmail(email) {\n      var _this7 = this;\n\n      return this._auth.native.updateEmail(email).then(function (user) {\n        _this7._auth._setUser(user);\n      });\n    }\n  }, {\n    key: \"updatePassword\",\n    value: function updatePassword(password) {\n      var _this8 = this;\n\n      return this._auth.native.updatePassword(password).then(function (user) {\n        _this8._auth._setUser(user);\n      });\n    }\n  }, {\n    key: \"updatePhoneNumber\",\n    value: function updatePhoneNumber(credential) {\n      var _this9 = this;\n\n      return this._auth.native.updatePhoneNumber(credential.providerId, credential.token, credential.secret).then(function (user) {\n        _this9._auth._setUser(user);\n      });\n    }\n  }, {\n    key: \"updateProfile\",\n    value: function updateProfile(updates) {\n      var _this10 = this;\n\n      return this._auth.native.updateProfile(updates).then(function (user) {\n        _this10._auth._setUser(user);\n      });\n    }\n  }, {\n    key: \"verifyBeforeUpdateEmail\",\n    value: function verifyBeforeUpdateEmail(newEmail, actionCodeSettings) {\n      var _this11 = this;\n\n      if (!isString(newEmail)) {\n        throw new Error(\"firebase.auth.User.verifyBeforeUpdateEmail(*) 'newEmail' expected a string value.\");\n      }\n\n      if (isObject(actionCodeSettings)) {\n        if (!isString(actionCodeSettings.url)) {\n          throw new Error(\"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.url' expected a string value.\");\n        }\n\n        if (!isUndefined(actionCodeSettings.dynamicLinkDomain) && !isString(actionCodeSettings.dynamicLinkDomain)) {\n          throw new Error(\"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.dynamicLinkDomain' expected a string value.\");\n        }\n\n        if (!isUndefined(actionCodeSettings.handleCodeInApp) && !isBoolean(actionCodeSettings.handleCodeInApp)) {\n          throw new Error(\"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.handleCodeInApp' expected a boolean value.\");\n        }\n\n        if (!isUndefined(actionCodeSettings.iOS)) {\n          if (!isObject(actionCodeSettings.iOS)) {\n            throw new Error(\"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.iOS' expected an object value.\");\n          }\n\n          if (!isString(actionCodeSettings.iOS.bundleId)) {\n            throw new Error(\"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.iOS.bundleId' expected a string value.\");\n          }\n        }\n\n        if (!isUndefined(actionCodeSettings.android)) {\n          if (!isObject(actionCodeSettings.android)) {\n            throw new Error(\"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.android' expected an object value.\");\n          }\n\n          if (!isString(actionCodeSettings.android.packageName)) {\n            throw new Error(\"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.android.packageName' expected a string value.\");\n          }\n\n          if (!isUndefined(actionCodeSettings.android.installApp) && !isBoolean(actionCodeSettings.android.installApp)) {\n            throw new Error(\"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.android.installApp' expected a boolean value.\");\n          }\n\n          if (!isUndefined(actionCodeSettings.android.minimumVersion) && !isString(actionCodeSettings.android.minimumVersion)) {\n            throw new Error(\"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.android.minimumVersion' expected a string value.\");\n          }\n        }\n      }\n\n      return this._auth.native.verifyBeforeUpdateEmail(newEmail, actionCodeSettings).then(function (user) {\n        _this11._auth._setUser(user);\n      });\n    }\n  }, {\n    key: \"linkWithPhoneNumber\",\n    value: function linkWithPhoneNumber() {\n      throw new Error('firebase.auth.User.linkWithPhoneNumber() is unsupported by the native Firebase SDKs.');\n    }\n  }, {\n    key: \"linkWithPopup\",\n    value: function linkWithPopup() {\n      throw new Error('firebase.auth.User.linkWithPopup() is unsupported by the native Firebase SDKs.');\n    }\n  }, {\n    key: \"linkWithRedirect\",\n    value: function linkWithRedirect() {\n      throw new Error('firebase.auth.User.linkWithRedirect() is unsupported by the native Firebase SDKs.');\n    }\n  }, {\n    key: \"reauthenticateWithPhoneNumber\",\n    value: function reauthenticateWithPhoneNumber() {\n      throw new Error('firebase.auth.User.reauthenticateWithPhoneNumber() is unsupported by the native Firebase SDKs.');\n    }\n  }, {\n    key: \"reauthenticateWithPopup\",\n    value: function reauthenticateWithPopup() {\n      throw new Error('firebase.auth.User.reauthenticateWithPopup() is unsupported by the native Firebase SDKs.');\n    }\n  }, {\n    key: \"reauthenticateWithRedirect\",\n    value: function reauthenticateWithRedirect() {\n      throw new Error('firebase.auth.User.reauthenticateWithRedirect() is unsupported by the native Firebase SDKs.');\n    }\n  }, {\n    key: \"displayName\",\n    get: function get() {\n      return this._user.displayName || null;\n    }\n  }, {\n    key: \"email\",\n    get: function get() {\n      return this._user.email || null;\n    }\n  }, {\n    key: \"emailVerified\",\n    get: function get() {\n      return this._user.emailVerified || false;\n    }\n  }, {\n    key: \"isAnonymous\",\n    get: function get() {\n      return this._user.isAnonymous || false;\n    }\n  }, {\n    key: \"metadata\",\n    get: function get() {\n      var metadata = this._user.metadata;\n      return {\n        lastSignInTime: new Date(metadata.lastSignInTime).toISOString(),\n        creationTime: new Date(metadata.creationTime).toISOString()\n      };\n    }\n  }, {\n    key: \"phoneNumber\",\n    get: function get() {\n      return this._user.phoneNumber || null;\n    }\n  }, {\n    key: \"photoURL\",\n    get: function get() {\n      return this._user.photoURL || null;\n    }\n  }, {\n    key: \"providerData\",\n    get: function get() {\n      return this._user.providerData;\n    }\n  }, {\n    key: \"providerId\",\n    get: function get() {\n      return this._user.providerId;\n    }\n  }, {\n    key: \"uid\",\n    get: function get() {\n      return this._user.uid;\n    }\n  }, {\n    key: \"refreshToken\",\n    get: function get() {\n      throw new Error('firebase.auth.User.refreshToken is unsupported by the native Firebase SDKs.');\n    }\n  }]);\n\n  return User;\n}();\n\nexport { User as default };","map":{"version":3,"sources":["/Users/rcohen/dev/chhack/Hackapod/client/node_modules/@react-native-firebase/auth/lib/User.js"],"names":["isObject","isString","isUndefined","isBoolean","User","auth","user","_auth","_user","native","delete","then","_setUser","forceRefresh","getIdToken","getIdTokenResult","credential","linkWithCredential","providerId","token","secret","userCredential","_setUserCredential","reauthenticateWithCredential","reload","actionCodeSettings","url","Error","dynamicLinkDomain","handleCodeInApp","iOS","bundleId","android","packageName","installApp","minimumVersion","sendEmailVerification","unlink","email","updateEmail","password","updatePassword","updatePhoneNumber","updates","updateProfile","newEmail","verifyBeforeUpdateEmail","displayName","emailVerified","isAnonymous","metadata","lastSignInTime","Date","toISOString","creationTime","phoneNumber","photoURL","providerData","uid"],"mappings":"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","sourcesContent":["/*\n * Copyright (c) 2016-present Invertase Limited & Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this library except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nimport { isObject, isString, isUndefined, isBoolean } from '@react-native-firebase/app/lib/common';\n\nexport default class User {\n  constructor(auth, user) {\n    this._auth = auth;\n    this._user = user;\n  }\n\n  get displayName() {\n    return this._user.displayName || null;\n  }\n\n  get email() {\n    return this._user.email || null;\n  }\n\n  get emailVerified() {\n    return this._user.emailVerified || false;\n  }\n\n  get isAnonymous() {\n    return this._user.isAnonymous || false;\n  }\n\n  get metadata() {\n    const { metadata } = this._user;\n\n    return {\n      lastSignInTime: new Date(metadata.lastSignInTime).toISOString(),\n      creationTime: new Date(metadata.creationTime).toISOString(),\n    };\n  }\n\n  get phoneNumber() {\n    return this._user.phoneNumber || null;\n  }\n\n  get photoURL() {\n    return this._user.photoURL || null;\n  }\n\n  get providerData() {\n    return this._user.providerData;\n  }\n\n  get providerId() {\n    return this._user.providerId;\n  }\n\n  get uid() {\n    return this._user.uid;\n  }\n\n  delete() {\n    return this._auth.native.delete().then(() => {\n      this._auth._setUser();\n    });\n  }\n\n  getIdToken(forceRefresh = false) {\n    return this._auth.native.getIdToken(forceRefresh);\n  }\n\n  getIdTokenResult(forceRefresh = false) {\n    return this._auth.native.getIdTokenResult(forceRefresh);\n  }\n\n  linkWithCredential(credential) {\n    return this._auth.native\n      .linkWithCredential(credential.providerId, credential.token, credential.secret)\n      .then(userCredential => this._auth._setUserCredential(userCredential));\n  }\n\n  reauthenticateWithCredential(credential) {\n    return this._auth.native\n      .reauthenticateWithCredential(credential.providerId, credential.token, credential.secret)\n      .then(userCredential => this._auth._setUserCredential(userCredential));\n  }\n\n  reload() {\n    return this._auth.native.reload().then(user => {\n      this._auth._setUser(user);\n    });\n  }\n\n  sendEmailVerification(actionCodeSettings) {\n    if (isObject(actionCodeSettings)) {\n      if (!isString(actionCodeSettings.url)) {\n        throw new Error(\n          \"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.url' expected a string value.\",\n        );\n      }\n\n      if (\n        !isUndefined(actionCodeSettings.dynamicLinkDomain) &&\n        !isString(actionCodeSettings.dynamicLinkDomain)\n      ) {\n        throw new Error(\n          \"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.dynamicLinkDomain' expected a string value.\",\n        );\n      }\n\n      if (\n        !isUndefined(actionCodeSettings.handleCodeInApp) &&\n        !isBoolean(actionCodeSettings.handleCodeInApp)\n      ) {\n        throw new Error(\n          \"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.handleCodeInApp' expected a boolean value.\",\n        );\n      }\n\n      if (!isUndefined(actionCodeSettings.iOS)) {\n        if (!isObject(actionCodeSettings.iOS)) {\n          throw new Error(\n            \"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.iOS' expected an object value.\",\n          );\n        }\n        if (!isString(actionCodeSettings.iOS.bundleId)) {\n          throw new Error(\n            \"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.iOS.bundleId' expected a string value.\",\n          );\n        }\n      }\n\n      if (!isUndefined(actionCodeSettings.android)) {\n        if (!isObject(actionCodeSettings.android)) {\n          throw new Error(\n            \"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.android' expected an object value.\",\n          );\n        }\n        if (!isString(actionCodeSettings.android.packageName)) {\n          throw new Error(\n            \"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.android.packageName' expected a string value.\",\n          );\n        }\n\n        if (\n          !isUndefined(actionCodeSettings.android.installApp) &&\n          !isBoolean(actionCodeSettings.android.installApp)\n        ) {\n          throw new Error(\n            \"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.android.installApp' expected a boolean value.\",\n          );\n        }\n\n        if (\n          !isUndefined(actionCodeSettings.android.minimumVersion) &&\n          !isString(actionCodeSettings.android.minimumVersion)\n        ) {\n          throw new Error(\n            \"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.android.minimumVersion' expected a string value.\",\n          );\n        }\n      }\n    }\n\n    return this._auth.native.sendEmailVerification(actionCodeSettings).then(user => {\n      this._auth._setUser(user);\n    });\n  }\n\n  toJSON() {\n    return Object.assign({}, this._user);\n  }\n\n  unlink(providerId) {\n    return this._auth.native.unlink(providerId).then(user => this._auth._setUser(user));\n  }\n\n  updateEmail(email) {\n    return this._auth.native.updateEmail(email).then(user => {\n      this._auth._setUser(user);\n    });\n  }\n\n  updatePassword(password) {\n    return this._auth.native.updatePassword(password).then(user => {\n      this._auth._setUser(user);\n    });\n  }\n\n  updatePhoneNumber(credential) {\n    return this._auth.native\n      .updatePhoneNumber(credential.providerId, credential.token, credential.secret)\n      .then(user => {\n        this._auth._setUser(user);\n      });\n  }\n\n  updateProfile(updates) {\n    return this._auth.native.updateProfile(updates).then(user => {\n      this._auth._setUser(user);\n    });\n  }\n\n  verifyBeforeUpdateEmail(newEmail, actionCodeSettings) {\n    if (!isString(newEmail)) {\n      throw new Error(\n        \"firebase.auth.User.verifyBeforeUpdateEmail(*) 'newEmail' expected a string value.\",\n      );\n    }\n\n    if (isObject(actionCodeSettings)) {\n      if (!isString(actionCodeSettings.url)) {\n        throw new Error(\n          \"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.url' expected a string value.\",\n        );\n      }\n\n      if (\n        !isUndefined(actionCodeSettings.dynamicLinkDomain) &&\n        !isString(actionCodeSettings.dynamicLinkDomain)\n      ) {\n        throw new Error(\n          \"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.dynamicLinkDomain' expected a string value.\",\n        );\n      }\n\n      if (\n        !isUndefined(actionCodeSettings.handleCodeInApp) &&\n        !isBoolean(actionCodeSettings.handleCodeInApp)\n      ) {\n        throw new Error(\n          \"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.handleCodeInApp' expected a boolean value.\",\n        );\n      }\n\n      if (!isUndefined(actionCodeSettings.iOS)) {\n        if (!isObject(actionCodeSettings.iOS)) {\n          throw new Error(\n            \"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.iOS' expected an object value.\",\n          );\n        }\n        if (!isString(actionCodeSettings.iOS.bundleId)) {\n          throw new Error(\n            \"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.iOS.bundleId' expected a string value.\",\n          );\n        }\n      }\n\n      if (!isUndefined(actionCodeSettings.android)) {\n        if (!isObject(actionCodeSettings.android)) {\n          throw new Error(\n            \"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.android' expected an object value.\",\n          );\n        }\n        if (!isString(actionCodeSettings.android.packageName)) {\n          throw new Error(\n            \"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.android.packageName' expected a string value.\",\n          );\n        }\n\n        if (\n          !isUndefined(actionCodeSettings.android.installApp) &&\n          !isBoolean(actionCodeSettings.android.installApp)\n        ) {\n          throw new Error(\n            \"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.android.installApp' expected a boolean value.\",\n          );\n        }\n\n        if (\n          !isUndefined(actionCodeSettings.android.minimumVersion) &&\n          !isString(actionCodeSettings.android.minimumVersion)\n        ) {\n          throw new Error(\n            \"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.android.minimumVersion' expected a string value.\",\n          );\n        }\n      }\n    }\n\n    return this._auth.native.verifyBeforeUpdateEmail(newEmail, actionCodeSettings).then(user => {\n      this._auth._setUser(user);\n    });\n  }\n\n  /**\n   * KNOWN UNSUPPORTED METHODS\n   */\n\n  linkWithPhoneNumber() {\n    throw new Error(\n      'firebase.auth.User.linkWithPhoneNumber() is unsupported by the native Firebase SDKs.',\n    );\n  }\n\n  linkWithPopup() {\n    throw new Error(\n      'firebase.auth.User.linkWithPopup() is unsupported by the native Firebase SDKs.',\n    );\n  }\n\n  linkWithRedirect() {\n    throw new Error(\n      'firebase.auth.User.linkWithRedirect() is unsupported by the native Firebase SDKs.',\n    );\n  }\n\n  reauthenticateWithPhoneNumber() {\n    throw new Error(\n      'firebase.auth.User.reauthenticateWithPhoneNumber() is unsupported by the native Firebase SDKs.',\n    );\n  }\n\n  reauthenticateWithPopup() {\n    throw new Error(\n      'firebase.auth.User.reauthenticateWithPopup() is unsupported by the native Firebase SDKs.',\n    );\n  }\n\n  reauthenticateWithRedirect() {\n    throw new Error(\n      'firebase.auth.User.reauthenticateWithRedirect() is unsupported by the native Firebase SDKs.',\n    );\n  }\n\n  get refreshToken() {\n    throw new Error('firebase.auth.User.refreshToken is unsupported by the native Firebase SDKs.');\n  }\n}\n"]},"metadata":{},"sourceType":"module"}